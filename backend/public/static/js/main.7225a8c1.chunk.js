(this["webpackJsonpevolve-app"]=this["webpackJsonpevolve-app"]||[]).push([[0],{166:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),r=n.n(a),c=n(43),i=n.n(c),l=(n(166),n(7)),o=n(8),u=n(10),d=n(9),j=n(16),h=n(3),p=n.n(h),b=n(4),v=n(13),m=n(12),x=n(340),f=n(137),O="/api/eventi",g=n.n(f).a.create({withCredentials:!0}),y=function(e,t){return C(e,"GET",t)},w=function(e,t){return C(e,"POST",t)},N=function(e,t){return C(e,"PUT",t)},k=function(e,t){return C(e,"DELETE",t)};function C(e){return U.apply(this,arguments)}function U(){return(U=Object(b.a)(p.a.mark((function e(t){var n,s,a,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",s=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,g({url:"".concat(O).concat(t),method:n,data:s});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(s)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var S={login:function(e){return I.apply(this,arguments)},logout:function(){return _.apply(this,arguments)},signup:function(e){return M.apply(this,arguments)},getUsers:function(){return y("user")},getById:function(e){return y("user/".concat(e))},remove:function(e){return k("user/".concat(e))},update:function(e){return E.apply(this,arguments)},getLoggedinUser:A};function E(){return(E=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("user/".concat(t._id),t);case 2:t=e.sent,A()._id===t._id&&T(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/login",t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",T(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",T(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),e.next=3,w("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function A(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}window.userService=S;var D=n(333),F={getEventies:function(){return y("eventi")},getById:function(e){return y("eventi/".concat(e))},remove:function(e){return k("eventi/".concat(e))},update:function(e){return B.apply(this,arguments)},add:function(e){return R.apply(this,arguments)},query:function(e){console.log(e);var t=e?"?title=".concat(e.title,"&tags=").concat(e.tags,"&minPrice=").concat(e.minPrice,"&maxPrice=").concat(e.maxPrice,"&sort=anaAref"):"";return y("eventi".concat(t))}};function B(){return(B=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("eventi/".concat(t._id),t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("eventi",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.query(e);case 3:s=t.sent,n({type:"SET_EVENTIES",eventies:s}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Eventi Actions: err in load",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function P(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.update(e);case 3:s=t.sent,console.log("editing  action ",s),n({type:"EDIT_EVENTI",eventi:s}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),alert("OOPs, try again to edit"),console.log("ERR:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}window.eventiService=F;var L=n(138),H=n.n(L),q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).doLogout=Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logout();case 2:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.loggedinUser,n=e.eventies;if(null!==t&&null!==n){var a=n.filter((function(e){return e.host._id===t._id})),r=0,c=0,i=[0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;n.forEach((function(e){e.cycles.forEach((function(e){if(!e.members)return 0;e.members.forEach((function(e){return e._id===t._id?l++:0}))}))})),a.forEach((function(e){e.cycles.length,e.reviews.length,e.reviews.forEach((function(e){return c+=+e.rate})),e.cycles.forEach((function(t){if(!t.members)return 0;r+=t.members.length,+t.capacity,t.members.length*e.price;var n=new Date(t.startsAt);n=n.getMonth(),i[n]+=t.members.length*e.price}))}))}return Object(s.jsxs)("header",{className:"main-header flex align-center space-between",children:[Object(s.jsx)(v.b,{to:"/",children:Object(s.jsx)("b",{className:"fs30 logo",children:"Connect"})}),Object(s.jsx)("nav",{className:"flex ",children:Object(s.jsxs)("ul",{className:"header-list flex align-center clean-list",children:[Object(s.jsx)("li",{className:"header-link",children:Object(s.jsx)(v.b,{to:"/eventi",children:"Explore"})}),!t&&Object(s.jsx)("li",{className:"header-link",children:Object(s.jsx)(v.b,{to:"/login",children:"Login"})}),t&&Object(s.jsx)("li",{className:"header-link",onClick:this.doLogout,children:Object(s.jsx)("button",{children:"Logout"})}),!t&&Object(s.jsx)("li",{className:"header-link",children:Object(s.jsx)(v.b,{to:"/signup",children:"Signup"})}),t&&Object(s.jsx)("li",{className:"header-link",children:Object(s.jsx)(D.a,{badgeContent:l,color:"secondary",children:Object(s.jsx)(H.a,{})})}),t&&Object(s.jsx)("li",{children:Object(s.jsxs)(v.b,{to:"/user",children:["  ",Object(s.jsx)(D.a,{color:"secondary",badgeContent:r,children:Object(s.jsx)(x.a,{className:"avatar",src:t.imgUrl})})]})})]})})]})}}]),n}(a.Component),$={logout:function(){return function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("UserActions: err in logout",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},loadEventis:z},J=Object(m.b)((function(e){return{loggedinUser:e.userModule.loggedinUser,eventies:e.eventiModule.eventies}}),$)(q),V=n(25),G=n(335),W=n(317),Y=n(336),Q=[{url:"https://res.cloudinary.com/ds65blvkp/image/upload/w_600/v1610905614/aliaksei-manlyx-YipPfXLCiUo-unsplash_n7ezla.jpg",title:"Dance",width:"33%"},{url:"https://res.cloudinary.com/ds65blvkp/image/upload/w_600/v1610905600/chinh-le-duc-vuDXJ60mJOA-unsplash_gjku0v.jpg",title:"Cooking",width:"67%"},{url:"https://res.cloudinary.com/ds65blvkp/image/upload/w_600/v1610905862/carl-barcelo-nqUHQkuVj3c-unsplash_es2omx.jpg",title:"Yoga",width:"55%"},{url:"https://res.cloudinary.com/ds65blvkp/image/upload/w_600/v1610905865/jonathan-borba-lrQPTQs7nQQ-unsplash_yxubc7.jpg",title:"Sport",width:"45%"},{url:"https://res.cloudinary.com/ds65blvkp/image/upload/w_600/v1610905602/kari-shea-YCQFgqOzLmU-unsplash_toujku.jpg",title:"Music",width:"45%"},{url:"https://res.cloudinary.com/ds65blvkp/image/upload/w_600/v1610905590/rhondak-native-florida-folk-artist-_Yc7OtfFn-0-unsplash_sapagu.jpg",title:"Art",width:"55%"}],X=Object(G.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center",minWidth:300,minHeight:"85vh",maxWidth:"100%",width:"100%"},image:(t={maxHeight:"1700",borderBottom:"2px solid white",borderRight:"2px solid white",borderLeft:"2px solid white"},Object(V.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:450}),Object(V.a)(t,"&:hover",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"absolute",zIndex:5,fontSize:25,padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}}));function Z(){var e=X();return Object(s.jsx)("div",{className:e.root,children:Q.map((function(t){return Object(s.jsxs)(W.a,{focusRipple:!0,className:e.image,style:{width:t.width},children:[Object(s.jsx)("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(t.url,")")}}),Object(s.jsx)("span",{className:e.imageBackdrop}),Object(s.jsx)("span",{className:e.imageButton,children:Object(s.jsxs)(Y.a,{component:"span",variant:"subtitle1",color:"inherit",className:e.imageTitle,children:[t.title,Object(s.jsx)("span",{className:e.imageMarked})]})})]},t.url)}))})}var K=n(341),ee=n(337),te=n(338),ne=n(41),se=n.n(ne),ae=n(75),re=n.n(ae),ce={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)},dateFormatter:function(e,t){var n=new Date(e).toString(),a=new Date(t).toString(),r=n.substring(0,3),c=n.substring(4,8),i=n.substring(8,10),l=n.substring(15,21),o=a.substring(15,21);return Object(s.jsxs)("section",{children:[Object(s.jsxs)("b",{children:[" ",r+", "+c+i]}),Object(s.jsx)("div",{children:l+" - "+o})]})},dateFormat:function(e){var t=new Date(e).toString(),n=t.substring(0,3),s=t.substring(4,8),a=t.substring(8,10);t.substring(15,21);return n+", "+s+a}};function ie(e){var t=e.eventi,n=t.title,a=t.price,r=t.host,c=t.cycles,i=t.reviews,l=t.media,o=0;if(i&&i.length){u=i;i.forEach((function(e){o+=parseInt(e.rate)}))}else var u=[];var d=(o/u.length).toFixed(1);if(c[0].members)c[0].capacity,c[0].members.length;var j=n.toLowerCase();return Object(s.jsx)("div",{className:"EventiPreview",children:Object(s.jsx)(K.a,{className:"card",children:Object(s.jsxs)(v.b,{to:"/eventi/".concat(t._id),children:[Object(s.jsx)(ee.a,{className:"media",image:l.imgUrls[0]}),Object(s.jsxs)(te.a,{className:"content",children:[Object(s.jsxs)("div",{className:"flex space-between align-center",children:[0!==o&&Object(s.jsxs)("div",{className:"flex align-center",children:[Object(s.jsx)(se.a,{className:"star",fontSize:"small"}),Object(s.jsxs)("span",{className:"fs14",children:[" ",d," ",Object(s.jsxs)("span",{className:"b-gray",children:["(",u.length,")"]})]})]}),"  ",Object(s.jsxs)("div",{className:"flex align-center teacher",children:[Object(s.jsx)("div",{className:"fs14 capitize",children:r.fullname}),Object(s.jsx)(x.a,{className:"avatar",src:r.imgUrl})]})]}),Object(s.jsxs)("h1",{className:"capitize fs16",children:[j," "]}),Object(s.jsx)(Y.a,{className:"MuiTypography--heading",variant:"h6",gutterBottom:!0}),Object(s.jsxs)("div",{className:"flex space-between last-child",children:[" ",Object(s.jsxs)("div",{className:"flex align-center fs14",children:[" ",Object(s.jsxs)("b",{className:"fs18",children:["$",a]}),"/person"]}),Object(s.jsx)("div",{className:"flex space-between  align-center likeshare-box",children:Object(s.jsx)(re.a,{className:"like"})})]})]})]})})})}function le(e){var t=e.eventies;return Object(s.jsx)("section",{className:"eventiList-container",children:Object(s.jsx)("div",{className:"EventiList",children:t.map((function(e){return Object(s.jsx)(ie,{eventi:e},e._id)}))})})}var oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loadEventis(this.props.filterBy),window.scrollTo(0,0),console.log("Got from store:",this.props)}},{key:"render",value:function(){var e=this.props.eventies,t=e.slice(-10),n=e.filter((function(e){return e.tags.includes("Sport")}));n=n.slice(-5);var a=e.filter((function(e){return e.tags.includes("Art")}));return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("div",{className:"full hero flex column  align-center",children:Object(s.jsxs)("div",{className:"gallery-home",children:[Object(s.jsxs)("div",{className:"main-title flex column justify-center align-center logo",children:[Object(s.jsx)("h1",{className:"logo",children:"Connect"}),"Unique online activities. ",Object(s.jsx)("br",{})," Hosted by extraordinary people."]}),Object(s.jsx)(Z,{})]})}),Object(s.jsxs)("div",{className:"flex column full justify-center",children:[Object(s.jsxs)("div",{className:"sport",children:[" ",Object(s.jsxs)("div",{className:"flex align-center space-between title-eventi",children:[" ",Object(s.jsx)("div",{className:"fs30",children:"Most Recent  "}),"  ",Object(s.jsx)(v.b,{to:"/eventi",children:Object(s.jsx)("b",{className:"capitize",children:" Go to All events"})})]}),Object(s.jsx)(le,{eventies:t})]}),Object(s.jsxs)("div",{className:"art",children:["     ",Object(s.jsxs)("div",{className:"flex align-center space-between title-eventi",children:["  ",Object(s.jsx)("div",{className:"fs30 ",children:"Sport    "}),Object(s.jsx)(v.b,{to:"/eventi",children:Object(s.jsx)("b",{className:"capitize",children:" Go to All events"})})]}),Object(s.jsx)(le,{eventies:n})]}),Object(s.jsxs)("div",{className:"sport",children:["  ",Object(s.jsxs)("div",{className:"flex align-center space-between title-eventi",children:[Object(s.jsx)("div",{className:"fs30 ",children:" Art   "}),Object(s.jsx)(v.b,{to:"/eventi",children:Object(s.jsx)("b",{className:"capitize",children:" Go to All events"})})]}),Object(s.jsx)(le,{eventies:a})]})]})]})}}]),n}(a.Component),ue={loadEventis:z},de=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedinUser:e.userModule.loggedinUser}}),ue)(oe),je=n(5),he=n(44),pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",loginCred:{username:"",password:""}},e.loginHandleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState((function(e){return{loginCred:Object(je.a)(Object(je.a)({},e.loginCred),{},Object(V.a)({},s,a))}}))},e.doLogin=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s=e.state.loginCred,a=s.username,r=s.password,a){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:c={username:a,password:r};try{e.props.login(c),e.setState({loginCred:{username:"",password:""}}),e.props.history.push("/")}catch(i){e.setState({msg:"Login failed, try again."})}case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.loginCred,t=e.username,n=e.password;return Object(s.jsxs)("div",{className:"login",children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)(he.c,{children:Object(s.jsxs)("form",{onSubmit:this.doLogin,children:[Object(s.jsx)("input",{type:"username",name:"username",onChange:this.loginHandleChange,value:t}),Object(s.jsx)("input",{type:"password",name:"password",onChange:this.loginHandleChange,value:n}),Object(s.jsx)("button",{type:"submit",children:"Submit"})]})})]})}}]),n}(a.Component),be={login:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.login(e);case 3:s=t.sent,n({type:"SET_USER",user:s}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in login",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},ve=Object(m.b)((function(e){return{loggedinUser:e.userModule.loggedinUser}}),be)(pe),me={uploadImg:function(e){return xe.apply(this,arguments)}};function xe(){return(xe=Object(b.a)(p.a.mark((function e(t){var n,s,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),"ds65blvkp",n="https://api.cloudinary.com/v1_1/".concat("ds65blvkp","/image/upload"),(s=new FormData).append("file",t),s.append("upload_preset","eventi"),e.prev=6,e.next=9,fetch(n,{method:"POST",body:s});case 9:return a=e.sent,e.next=12,a.json();case 12:return r=e.sent,e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}var fe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={imgUrl:null,isUploading:!1},e.onUploadImg=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),e.setState({isUploading:!0}),t.next=4,me.uploadImg(n.target.files[0]);case 4:s=t.sent,a=s.secure_url,e.setState({imgUrl:a,isUploading:!1}),e.props.onFinishUpload(a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.imgUrl,n=e.isUploading;e.height,e.width,"url(".concat(t,")");return Object(s.jsxs)("div",{className:"uploader",children:[Object(s.jsx)("label",{className:"upload-label",htmlFor:"imageUploader",children:n?"Uploading....":"Upload Image"}),Object(s.jsx)("input",{onChange:this.onUploadImg,hidden:!0,type:"file",accept:"image/*",id:"imageUploader"})]})}}]),n}(a.Component),Oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",signupCred:{username:"",password:"",fullname:"",imgUrl:""}},e.doSignup=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r,c,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s=e.state.signupCred,a=s.username,r=s.password,c=s.fullname,i=s.imgUrl,a&&r&&c){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required"}));case 4:l={username:a,password:r,fullname:c,imgUrl:i},e.props.signup(l),e.setState({signupCred:{username:"",password:"",fullname:"",imgUrl:""}}),e.props.history.push("/");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.signupHandleChange=function(t){var n=t.target,s=n.name,a=n.value;e.setState((function(e){return{signupCred:Object(je.a)(Object(je.a)({},e.signupCred),{},Object(V.a)({},s,a))}}))},e.onFinishUpload=function(){var t=Object(b.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s=e.state.signupCred).imgUrl=n,t.next=4,e.setState({signupCred:s});case 4:console.log(e.state);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"signup",children:[Object(s.jsx)("h1",{children:"Sign Up"}),Object(s.jsx)(he.c,{children:Object(s.jsxs)(he.b,{onSubmit:this.doSignup,children:[Object(s.jsx)("label",{htmlFor:"fullname"}),Object(s.jsx)(he.a,{id:"fullname",name:"fullname",placeholder:"Fullname",onChange:this.signupHandleChange}),Object(s.jsx)("label",{htmlFor:"username"}),Object(s.jsx)(he.a,{id:"username",name:"username",placeholder:"Username",onChange:this.signupHandleChange}),Object(s.jsx)("label",{htmlFor:"password"}),Object(s.jsx)(he.a,{id:"password",name:"password",type:"password",onChange:this.signupHandleChange,placeholder:"Password"}),Object(s.jsx)(fe,{className:"uploader",onFinishUpload:this.onFinishUpload}),Object(s.jsx)("button",{type:"submit",children:"Submit"})]})})]})}}]),n}(a.Component),ge={signup:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.signup(e);case 3:s=t.sent,n({type:"SET_USER",user:s}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("UserActions: err in signup",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},ye=Object(m.b)((function(e){return{loggedinUser:e.userModule.loggedinUser}}),ge)(Oe),we=n(339),Ne=n(141),ke=n.n(Ne),Ce=n(142),Ue=n.n(Ce),Se=n(143),Ee=n.n(Se),Ie=n(144),Me=n.n(Ie);function _e(e){var t=e.eventi.reviews,n=(e.eventi,0);if(t&&t.length){a=t;t.forEach((function(e){n+=parseInt(e.rate)}))}else var a=[];var r=(n/a.length).toFixed(1),c=e.eventi.title.toLowerCase();return Object(s.jsxs)("div",{className:"eventiFeaturedPostContent",children:[Object(s.jsxs)("div",{className:"flex align-center space-between",children:[Object(s.jsx)("h1",{children:c}),"  ",Object(s.jsx)("div",{})]}),Object(s.jsx)("div",{className:"flex align-center space-between",children:Object(s.jsxs)("div",{className:"flex align-center ",children:[0!==n&&Object(s.jsx)(se.a,{className:"star",fontSize:"small"}),0!==n&&Object(s.jsxs)("span",{children:[" ",r]}),0!==n&&Object(s.jsxs)("div",{className:"b-graymain",children:["(",a.length,")"]})]})}),Object(s.jsx)("hr",{className:"divider"}),Object(s.jsxs)("div",{className:"language fs14",children:[Object(s.jsxs)("div",{className:"flex align-center  ",children:["  ",Object(s.jsx)(ke.a,{fontSize:"large"}),"   ",Object(s.jsxs)("div",{className:"stuff",children:[e.eventi.durationMinutes," Mins"]})]}),Object(s.jsxs)("div",{className:"flex align-center ",children:["       ",Object(s.jsx)(Ue.a,{fontSize:"large"})," ",Object(s.jsxs)("div",{className:"stuff",children:["Join from your  ",e.eventi.devices]})]}),Object(s.jsxs)("div",{className:"flex align-center ",children:["     ",Object(s.jsx)(Ee.a,{fontSize:"large"}),Object(s.jsxs)("div",{className:"stuff",children:[" Hosted in ",e.eventi.language]})]}),Object(s.jsxs)("div",{className:"flex align-center",children:["     ",Object(s.jsx)(Me.a,{fontSize:"large"}),"  ",Object(s.jsx)("div",{className:"stuff",children:e.eventi.minPeople})]})]}),Object(s.jsx)("hr",{className:"divider"}),Object(s.jsx)("b",{children:"What you'll do"}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:["  ",e.eventi.description]}),Object(s.jsx)("b",{children:" What To Bring"}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:["   ",e.eventi.whatToBring]})]})}function Te(e){var t=e.reviews;return t&&t.length?t.map((function(e){e.createdAt=+e.createdAt;var t=ce.dateFormat(e.createdAt);return Object(s.jsxs)("div",{className:"reviewsFeaturedPostContent ",children:[Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsxs)("div",{className:"flex align-center fs12",children:[" ",Object(s.jsx)(x.a,{className:"avatar-big",src:e.byUser.imgUrl}),Object(s.jsx)(se.a,{className:"star",fontSize:"small"}),"   ",Object(s.jsx)("b",{children:e.rate}),"  "]}),Object(s.jsx)("div",{className:"flex"})]}),Object(s.jsxs)("div",{className:"flex column fs12",children:[" ",Object(s.jsxs)("div",{children:[" ",t]}),Object(s.jsxs)("div",{children:[" ",Object(s.jsxs)("b",{children:[e.byUser.fullname,":"]}),"  ",e.txt]})]})]},e.id)})):Object(s.jsx)("div",{children:"No reviews yet"})}var Ae=n(145),De=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={labels:["Jan","Febr","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Rev",backgroundColor:"#ee0a61",borderColor:"none",borderWidth:0,barThickness:50,maxBarThickness:70,data:e.props.data}]},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(Ae.Bar,{data:this.state,options:{title:{display:!0,text:"Monthly Revenues",fontSize:20},scales:{yAxes:[{ticks:{min:0,beginAtZero:!0}}]}}})})}}]),n}(r.a.Component),Fe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedinUser&&this.props.loadEventis(),window.scrollTo(0,0),document.getElementById("root").scroll(0,0)}},{key:"render",value:function(){var e=this.props,t=e.loggedinUser,n=e.eventies;if(!t)return Object(s.jsx)("h1",{children:"Loading"});if(!n)return Object(s.jsx)("h1",{children:"Loading"});if(t&&n)var a=n.filter((function(e){return e.host._id===t._id}));var r=0,c=0,i=0,l=0,o=0,u=[],d=[0,10,500,4,555,400,0,100,0,0,277,20],j=0;return n.forEach((function(e){e.cycles.forEach((function(e){if(!e.members)return 0;e.members.forEach((function(e){return e._id===t._id?j++:0}))}))})),a.forEach((function(e){i+=e.cycles.length,o+=e.reviews.length,e.reviews.forEach((function(e){l+=+e.rate,u.push(e)})),e.cycles.forEach((function(t){if(!t.members)return 0;r+=t.members.length,+t.capacity,c+=t.members.length*e.price;var n=new Date(t.startsAt);n=n.getMonth(),d[n]+=t.members.length*e.price}))})),Object(s.jsxs)("div",{className:"userDetails",children:[Object(s.jsxs)("h1",{className:"flex space-between",children:["Hello  ",t.fullname,Object(s.jsxs)(v.b,{to:"/eventi/edit",children:["   ",Object(s.jsx)(we.a,{variant:"contained",color:"secondary",disable:"true",children:Object(s.jsx)("span",{className:"capitize",children:"Add Event"})})," "]})," "]}),Object(s.jsx)(K.a,{className:"root flex column",children:Object(s.jsx)("div",{className:"totals capitize flex justify-center align-center space-between",children:Object(s.jsxs)("ul",{className:"capitize flex  ",children:[Object(s.jsxs)("li",{className:"totals capitize flex  column align-center space-between",children:[Object(s.jsx)("b",{children:"Total Revenue  "}),"$",c]}),Object(s.jsxs)("li",{className:"totals capitize flex column align-center space-between",children:[" ",Object(s.jsx)("b",{children:"Future Events  "}),i]}),Object(s.jsxs)("li",{className:"totals capitize flex  column align-center space-between",children:[Object(s.jsx)("b",{children:" Hosting Events "})," ",a.length]}),Object(s.jsxs)("li",{className:"totals capitize flex column align-center space-between",children:[" ",Object(s.jsx)("b",{children:"Total reviews "}),Object(s.jsxs)("div",{className:"flex align-center",children:[Object(s.jsx)(se.a,{className:"star",fontSize:"small"})," ",l/o," (",o,")"]})]}),Object(s.jsxs)("li",{className:"totals capitize flex  column align-center space-between",children:[Object(s.jsx)("b",{children:" Going-To Events "}),j]}),Object(s.jsxs)("li",{className:"totals capitize flex  column align-center space-between",children:[" ",Object(s.jsx)("b",{children:"Participants "}),r]})]})})}),Object(s.jsx)(De,{data:d}),Object(s.jsxs)("div",{className:"month",children:["2020 Retrospective                    ",Object(s.jsxs)("ul",{className:"days",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("div",{children:"Jan"}),"  $",d[0]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"Feb "})," $",d[1]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"Mar "})," $",d[2]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"Apr"})," $",d[3]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"May "}),"$",d[4]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"June "}),"$",d[5]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"July"})," $",d[6]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"Aug "}),"$",d[7]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"Sep"})," $",d[8]]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("div",{children:"Oct"})," $",d[9]]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("div",{children:"Nov "}),"$",d[10]]}),Object(s.jsxs)("li",{children:[" ",Object(s.jsx)("div",{children:"Dec "}),"$",d[11]]})]})]}),Object(s.jsx)("h1",{children:"Your Reviews"}),Object(s.jsx)("div",{className:"reviews",children:Object(s.jsx)(Te,{reviews:u})})]})}}]),n}(a.Component),Be={loadEventis:z},Re=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedinUser:e.userModule.loggedinUser}}),Be)(Fe),ze=n(146),Pe=n.n(ze),Le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:{title:"",tags:"",member:"",minPrice:0,maxPrice:1/0}},e.handleChange=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n.target.value),s=Object(je.a)({},e.state.filterBy),a=[n.target.name],r=n.target.value,"number"===n.target.type&&(r=+r),s[a]=r,console.log(s),t.next=9,e.setState({filterBy:s});case 9:e.props.setFilter(e.state.filterBy);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"filter ",children:Object(s.jsxs)("form",{className:"flex align-center ",children:[Object(s.jsxs)("label",{htmlFor:"title",className:"title",children:[" ",Object(s.jsx)("input",{type:"text",placeholder:"Search",className:"title",name:"title",onChange:this.handleChange})]}),Object(s.jsx)(Pe.a,{className:"searchIcons",fontSize:"large"}),Object(s.jsxs)("div",{className:"flex align-center",children:["  ",Object(s.jsxs)("label",{htmlFor:"",children:["  ",Object(s.jsx)("input",{multiple:"multiple",name:"tags",placeholder:"Categories",onChange:this.handleChange,id:"myMulti",type:"list",list:"presets"}),Object(s.jsxs)("datalist",{multiple:"multiple",id:"presets",children:[Object(s.jsx)("option",{children:"Sport"}),Object(s.jsx)("option",{children:"Diy"}),Object(s.jsx)("option",{children:"Art"}),Object(s.jsx)("option",{children:"Dance"}),Object(s.jsx)("option",{children:"Music"}),Object(s.jsx)("option",{children:"Cook"})]})]})]})]})})}}]),n}(a.Component),He=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onSetFilter=function(t){e.props.loadEventis(t)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loadEventis(this.props.filterBy),window.scrollTo(0,0),console.log("Got from store:",this.props)}},{key:"render",value:function(){var e=this.props.eventies;if(e)return Object(s.jsxs)("section",{className:"eventiList-container",children:[Object(s.jsx)(Le,{setFilter:this.onSetFilter}),Object(s.jsx)(le,{eventies:e})]})}}]),n}(a.Component),qe={loadEventis:z},$e=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedinUser:e.userModule.loggedinUser}}),qe)(He),Je=n(149),Ve=n.n(Je),Ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={isMember:!1},e.onJoinCycle=Object(b.a)(p.a.mark((function t(){var n,s,a,r,c,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.eventi,a=n.cycle,r=n.loggedInUser,c=Object(je.a)({},s),console.log("eventi",c),i=a.id,l=c.cycles.findIndex((function(e){return e.id===i})),c.cycles[l].members||(c.cycles[l].members=[]),c.cycles[l].members.push(r),console.log(c),t.next=10,e.props.editEventi(c);case 10:e.setState({isMember:!0});case 11:case"end":return t.stop()}}),t)}))),e.onUnjoinCycle=Object(b.a)(p.a.mark((function t(){var n,s,a,r,c,i,l,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.eventi,a=n.cycle,r=n.loggedInUser,c=s.cycles,i=a.id,l=c.findIndex((function(e){return e.id===i})),c[l].members||(c[l].members=[]),o=(o=c[l].members).filter((function(e){return e._id!==r._id})),c[l].members=o,s=Object(je.a)(Object(je.a)({},s),c),t.next=11,e.props.editEventi(s);case 11:e.setState({isMember:!1});case 12:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.checkRegister(this.props.loggedInUser._id,this.props.cycle),console.log(this.state)}},{key:"checkRegister",value:function(e,t){if(console.log(t,"cycle"),e&&t){var n=t.members;if(n)n.find((function(t){return t._id===e}))&&this.setState({isMember:!0})}}},{key:"render",value:function(){var e=this.props,t=e.eventi,n=e.cycle,a=this.state.isMember;n.startsAt=+n.startsAt,n.capacity=+n.capacity,t.durationMinutes=+t.durationMinutes;var r=ce.dateFormatter(n.startsAt,n.startsAt+60*t.durationMinutes*1e3);if(n.members&&n.capacity===n.members.length)var c=!0;else c=!1;var i=this.props.loggedInUser;return Object(s.jsx)(K.a,{className:"root",children:Object(s.jsx)("div",{className:"details",children:Object(s.jsxs)(te.a,{className:"content",children:[Object(s.jsxs)("div",{children:["  ",Object(s.jsxs)("div",{className:"fs14",children:[" ",r]}),n.members&&n.members.length>1&&!c&&Object(s.jsxs)("div",{className:"fs12",children:[" ",n.members.length," persons already joined"]}),n.members&&1===n.members.length&&!c&&Object(s.jsxs)("div",{className:"fs12",children:[" ",n.members.length," person already joined"]})]}),Object(s.jsxs)("div",{className:"flex column ",children:[Object(s.jsxs)("div",{className:"flex align-center",children:[Object(s.jsxs)("b",{children:["$",t.price]}),Object(s.jsx)("div",{className:"fs12",children:"/person"})]}),c&&Object(s.jsxs)(we.a,{variant:"contained",color:"primary",onClick:this.onUnjoinCycle,children:[" ",Object(s.jsx)("span",{className:"capitize",children:"Sold"})]}),!c&&!a&&null!==i&&Object(s.jsx)(we.a,{onClick:this.onJoinCycle,variant:"contained",color:"secondary",children:Object(s.jsx)("span",{className:"capitize",children:"join"})}),!c&&!a&&!i&&Object(s.jsx)(we.a,{variant:"contained",color:"secondary",disable:"true",onClick:function(){return alert("Login first")},children:Object(s.jsx)("span",{className:"capitize",children:"join"})}),!c&&a&&null!==i&&Object(s.jsx)(we.a,{onClick:this.onUnjoinCycle,variant:"outlined",children:Object(s.jsx)("span",{className:"capitize",children:"joined"})})]})]})})})}}]),n}(a.Component),We={editEventi:P},Ye=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedInUser:e.userModule.loggedinUser}}),We)(Ge);function Qe(e){var t=e.cycles,n=e.eventi;return t.map((function(e){return Object(s.jsx)(Ye,{cycle:e,eventi:n},e.id)}))}var Xe=n(46),Ze=n(97),Ke=n.n(Ze);var et="/api/eventi",tt=function(){var e;return{setup:function(){e=Ke()(et)},on:function(t,n){e.on(t,n)},off:function(e,t){Ke()(et).off(e,t)},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}}}();window.socketService=tt;var nt=n(148),st=n.n(nt),at=n(147),rt=n.n(at),ct=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={msg:{txt:""},msgs:[{from:e.props.eventi.host.imgUrl,txt:"Hi there thanks for reaching out!"}],isBotMode:!1,currTypingUser:{username:"",isTyping:!1}},e.setUserTyping=function(t){var n=t.username,s=t.msg;e.setState({currTypingUser:{username:n,isTyping:!!s}},(function(){console.log("currTypingUser: ",e.state.currTypingUser)}))},e.addMsg=function(t){e.setState((function(e){return{msgs:[].concat(Object(Xe.a)(e.msgs),[t])}}),(function(){})),e.state.isBotMode&&e.onSendBotResponse()},e.onSendBotResponse=function(){e.timeout&&clearTimeout(e.timeout),e.timeout=setTimeout(e.sendBotResponse,1500)},e.sendBotResponse=function(){e.setState((function(e){return{msgs:[].concat(Object(Xe.a)(e.msgs),[{from:"Bot",txt:"You are amazing!"}])}}),(function(){}))},e.sendMsg=function(t){var n,s;t.preventDefault();var a=(null===(n=e.props.loggedinUser)||void 0===n?void 0:n.imgUrl)||(null===(s=e.props.loggedinUser)||void 0===s?void 0:s.username)||"Me";tt.emit("chat newMsg",{from:a,txt:e.state.msg.txt}),e.setState({msg:{from:"Me",txt:""}})},e.msgHandleChange=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r,c,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.target,c=r.name,i=r.value,l={username:(null===(s=e.props.loggedinUser)||void 0===s?void 0:s.fullname)||(null===(a=e.props.loggedinUser)||void 0===a?void 0:a.username)||"guest",msg:i},tt.emit("typing",l),e.setState((function(e){return{msg:Object(je.a)(Object(je.a)({},e.msg),{},Object(V.a)({},c,i))}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){tt.setup(),tt.emit("chat topic",this.props.eventi._id),tt.on("chat addMsg",this.addMsg),tt.on("userTyping",this.setUserTyping)}},{key:"componentDidUpdate",value:function(e){e.eventi._id!==this.props.eventi._id&&tt.emit("chat topic",this.props.eventi._id)}},{key:"componentWillUnmount",value:function(){tt.off("chat addMsg",this.addMsg),tt.off("userTyping",this.setUserTyping),tt.terminate(),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.state,t=e.currTypingUser,n=e.msg,a=this.props,r=a.isOpen,c=a.eventi;a.loggedinUser;return Object(s.jsxs)("div",{className:"chat ".concat(r&&"active"),children:[Object(s.jsxs)("b",{className:"chat-topic chat-layout flex space-between",children:["  ",Object(s.jsx)("div",{className:"flex  space-between",children:Object(s.jsxs)("div",{className:"flex align-center",children:[Object(s.jsx)(x.a,{className:"avatar",src:c.host.imgUrl}),Object(s.jsx)("div",{children:c.host.fullname})]})}),Object(s.jsx)("b",{onClick:this.props.onClose,children:Object(s.jsx)(rt.a,{})})]}),Object(s.jsx)("h3",{children:(null===t||void 0===t?void 0:t.isTyping)&&t.username+" is typing..."}),Object(s.jsxs)("div",{className:"chat-main-content",children:[Object(s.jsx)("ul",{className:"chat-msgs chat-layout",children:this.state.msgs.map((function(e,t){return Object(s.jsxs)("div",{className:"flex align-center",children:[Object(s.jsx)("span",{className:"from ",children:Object(s.jsx)(x.a,{className:"avatar",src:e.from})}),e.txt]},t)}))}),"  ",Object(s.jsx)("hr",{}),Object(s.jsxs)("form",{className:"msg-form flex align-center space-between",onSubmit:this.sendMsg,children:[Object(s.jsx)("input",{type:"text",value:n.txt,onChange:this.msgHandleChange,name:"txt",className:"msg-input",autoComplete:"off"}),Object(s.jsx)(st.a,{onClick:this.sendMsg,color:"secondary"})]})]})]})}}]),n}(a.Component),it=Object(m.b)((function(e){return{loggedinUser:e.userModule.loggedinUser}}),{})(ct),lt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={eventi:null,isChatOpen:!1,msg:null},e.joined=function(t){null===t?e.setState({msg:""}):e.setState({msg:t})},e.loadEventi=Object(b.a)(p.a.mark((function t(){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.eventiId,t.next=3,F.getById(n);case 3:s=t.sent,e.setState({eventi:s});case 5:case"end":return t.stop()}}),t)}))),e.onToggleChat=function(){e.setState({isChatOpen:!e.state.isChatOpen})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("root").scroll(0,0),window.scrollTo(0,0),this.loadEventi();var e=this.props.match.params.eventiId;tt.setup(),tt.emit("looking",e),tt.on("message",this.joined),console.log("emmited")}},{key:"componentDidUpdate",value:function(e){if(e.eventi&&this.state.eventi)var t=e.eventi._id!==this.state.eventi._id;t&&tt.emit("looking",this.state.eventi._id)}},{key:"componentWillUnmount",value:function(){tt.off("looking",this.state.eventi._id),tt.off("message",this.joined),tt.terminate()}},{key:"render",value:function(){var e=this.state,t=e.eventi,n=e.msg;if(!t)return Object(s.jsx)("h1",{children:"Loading..."});var a=this.props.loggedInUser;if(a&&a._id===t.host._id)var r=!0;else r=!1;if(null!==n)var c=!0;return Object(s.jsxs)("section",{className:"eventi-details",children:[Object(s.jsx)("div",{id:"myModal",className:"modal",children:c&&Object(s.jsx)("div",{className:"modal-content",children:Object(s.jsx)("p",{children:n})})}),Object(s.jsxs)("div",{className:"eventi-details-grid",children:[Object(s.jsx)("div",{id:"myModal",className:"modal",children:c&&Object(s.jsx)("div",{className:"modal-content flex justify-center align-center",children:n})}),Object(s.jsxs)("div",{className:"share-like flex space-between",children:[Object(s.jsxs)("div",{children:["   ",Object(s.jsx)(Ve.a,{className:"share"}),Object(s.jsx)(re.a,{className:"like"})," "]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(v.b,{to:"/eventi",children:["  ",Object(s.jsx)("b",{className:"capitize",children:" Go to All events"})," "]}),r&&Object(s.jsx)(v.b,{to:"/eventi/edit/".concat(t._id),children:"edit"})]})]}),Object(s.jsxs)("div",{className:"gallery",children:[Object(s.jsx)("img",{className:"pic1",alt:"eventi",src:t.media.imgUrls[0]}),Object(s.jsx)("img",{className:"pic2",alt:"eventi",src:t.media.imgUrls[1]}),Object(s.jsx)("img",{className:"pic3",alt:"eventi",src:t.media.imgUrls[2]}),Object(s.jsx)("img",{className:"pic4",alt:"eventi",src:t.media.imgUrls[3]}),Object(s.jsx)("img",{className:"pic5",alt:"eventi",src:t.media.imgUrls[4]})]}),Object(s.jsxs)("div",{className:"main-details",children:[Object(s.jsx)(_e,{eventi:t}),Object(s.jsx)("hr",{className:"divider"}),Object(s.jsxs)("div",{className:"hostFeaturedPostContent",children:[Object(s.jsx)("b",{children:" Meet your host"}),Object(s.jsxs)("div",{className:"flex  space-between ",children:[Object(s.jsxs)(v.b,{className:"flex align-center",to:"/eventi/host/".concat(t.host._id),children:[Object(s.jsx)(x.a,{className:"avatar-big",src:t.host.imgUrl}),Object(s.jsx)("h6",{children:t.host.fullname})]})," ",Object(s.jsx)("button",{onClick:this.onToggleChat,children:"Contact Host"}),Object(s.jsx)(it,{eventi:t,isOpen:this.state.isChatOpen,onClose:this.onToggleChat})]}),t.aboutHost]}),Object(s.jsx)("hr",{className:"divider"}),Object(s.jsxs)("div",{className:"review-preview",children:[Object(s.jsxs)("div",{className:"flex space-between align-center",children:["  ",Object(s.jsx)("b",{children:"Reviews"}),Object(s.jsxs)("div",{children:["   ",Object(s.jsxs)(v.b,{to:"/allreviews/".concat(t._id),children:["  ",Object(s.jsx)("div",{className:"capitize fs12",children:"Show all Reviews"})]}),null!==a&&Object(s.jsx)(v.b,{to:"/review/".concat(t._id),children:Object(s.jsx)("button",{children:"Add Review"})})]}),"  "]}),Object(s.jsx)("div",{className:"reviews",children:Object(s.jsx)(Te,{reviews:t.reviews})})]})]}),Object(s.jsx)("div",{className:"cycle-list",children:Object(s.jsxs)("div",{className:"cycle-list",children:[Object(s.jsx)(Qe,{cycles:t.cycles,eventi:t}),Object(s.jsxs)(v.b,{to:"/cycles/".concat(t._id),children:["  ",Object(s.jsx)("b",{className:"capitize",children:" See more dates"})," "]})]})})]})]})}}]),n}(a.Component),ot=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedInUser:e.userModule.loggedinUser}}),{})(lt);function ut(e){var t=e.cycles,n=e.onEditCycle,a=e.onRemoveCycle;return t.map((function(e,t){e.startsAt=+e.startsAt;var r=ce.dateFormat(e.startsAt);return Object(s.jsxs)("ul",{className:"flex",children:[Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsx)("li",{children:r}),Object(s.jsx)("li",{children:e.capacity})]}),Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsx)("li",{children:Object(s.jsx)("button",{onClick:function(){return n(e.id)},children:"edit"})}),Object(s.jsx)("li",{children:Object(s.jsx)("button",{onClick:function(){return a(e.id)},children:"cancel"})})]})]},e.id)}))}var dt=n(61),jt=n.n(dt),ht=n(150),pt=n.n(ht),bt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={eventi:{description:"",title:"",devices:"",language:"",minPeople:"",price:"",eventLink:"",durationMinutes:"",whatToBring:"",aboutHost:""},cycle:{capacity:"",startsAt:""}},e.loadEventi=Object(b.a)(p.a.mark((function t(){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.props.match.params),!(n=e.props.match.params.eventiId)){t.next=7;break}return t.next=5,F.getById(n);case 5:s=t.sent,e.setState({eventi:s});case 7:case"end":return t.stop()}}),t)}))),e.handleInput=function(t){var n=t.target,s=n.name,a=n.type,r="checkbox"===a?t.target.checked:"number"===a?+t.target.value:t.target.value;if("tags"===s){r=[];for(var c=0;c<t.target.length;c++)t.target.options[c].selected&&r.push(t.target[c].value)}e.setState((function(e){return{eventi:Object(je.a)(Object(je.a)({},e.eventi),{},Object(V.a)({},s,r))}}))},e.handleInputCycle=function(t){var n=t.target,s=n.name,a=n.type,r="checkbox"===a?n.checked:"number"===a?+n.value:n.value;if("datetime-local"===a){var c=Date.parse(r);c=new Date(c),c=Date.parse(c),r=c}e.setState((function(e){return{cycle:Object(je.a)(Object(je.a)({},e.cycle),{},Object(V.a)({},s,r))}})),console.log(e.state.cycle)},e.onSaveCycle=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),(s=e.state.eventi).cycles&&s.cycles.length||(s.cycles=[]),(a=e.state.cycle).id||(a.id=ce.makeId(),s.cycles.push(a),e.setState((function(e){return{eventi:Object(je.a)(Object(je.a)({},e.eventi),{},{cycles:s.cycles}),cycle:{capacity:"",startsAt:""}}})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaveEventi=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),(s=e.state.eventi).cycles){t.next=4;break}return t.abrupt("return",alert("you are rquired to add at least one cycle"));case 4:if(s._id){t.next=12;break}return a=e.props.loggedinUser,r=s,r=Object(je.a)(Object(je.a)({},r),{},{host:a,createdAt:Date.now()}),t.next=10,e.props.addEventi(r);case 10:t.next=14;break;case 12:return t.next=14,e.props.editEventi(s);case 14:e.setState({eventi:{},cycle:{}}),e.props.history.push("/");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onEditCycle=function(t){var n=e.state.eventi.cycles,s=e.state.eventi,a=n.findIndex((function(e){return e.id===t}));e.setState({cycle:n[a]}),s.cycles.splice(a,1),e.setState({eventi:s})},e.onRemoveCycle=function(t){var n=e.state.eventi.cycles,s=e.state.eventi,a=n.findIndex((function(e){return e.id===t}));s.cycles.splice(a,1),e.setState({eventi:s})},e.onRemoveEventi=function(t){e.props.removeEventi(t),e.props.history.push("/")},e.onFinishUpload=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(s=e.state.eventi).media||(s.media={}),(a=s.media).imgUrls&&a.imgUrls.length?a.imgUrls&&a.imgUrls.push(n):((r=[]).push(n),a={imgUrls:r}),console.log(a),s.media=a,console.log(s),t.next=9,e.setState({eventi:s});case 9:console.log(e.state.eventi);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.loadEventi()}},{key:"render",value:function(){var e=this,t=this.state.eventi,n=t.cycles,a=t.description,r=t.minPeople,c=t.aboutHost,i=t.language,l=t.devices,o=t.title,u=t.price,d=t.eventLink,j=t.durationMinutes,h=t.whatToBring,p=t._id,b=this.state.cycle,v=b.capacity,m=b.startsAt;return this.state.eventi&&this.props.loggedinUser?this.state.cycle?Object(s.jsxs)("section",{className:"EventiEdit  align-center ",children:[Object(s.jsxs)("div",{className:"flex column align-center",children:[Object(s.jsx)("h1",{children:"Create Your Eventi"}),p&&Object(s.jsx)(we.a,{onClick:function(){return e.onRemoveEventi(p)},variant:"contained",color:"secondary",startIcon:Object(s.jsx)(pt.a,{}),children:"Delete"})]}),Object(s.jsxs)("div",{className:"edit-box flex column ",children:[Object(s.jsxs)("form",{className:"form",action:"",onSubmit:this.onSaveEventi,children:[Object(s.jsxs)("label",{children:[" Title",Object(s.jsx)("input",{name:"title",type:"text",required:!0,value:o,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:[" Language",Object(s.jsx)("input",{name:"language",type:"text",required:!0,value:i,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:[" How many People can paricipate ",Object(s.jsx)("br",{})," ",Object(s.jsx)("span",{className:"fs12",children:"(ex: minimum of 3 people. for  Private groups send a request on chat)"}),Object(s.jsx)("input",{name:"minPeople",type:"text",required:!0,value:r,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:[" Devices",Object(s.jsx)("input",{name:"devices",type:"text",required:!0,value:l,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:[" Price",Object(s.jsx)("input",{name:"price",type:"number",min:"0",required:!0,value:u,onChange:this.handleInput})]}),"          ",Object(s.jsxs)("label",{children:[" Duration (Minutes)",Object(s.jsx)("input",{name:"durationMinutes",type:"number",required:!0,mvalue:j,onChange:this.handleInput})]}),Object(s.jsx)("label",{htmlFor:"",children:"Categories"}),Object(s.jsxs)("select",{multiple:"multiple",name:"tags",required:!0,onChange:this.handleInput,id:"myMulti",children:[Object(s.jsx)("option",{children:"Sport"}),Object(s.jsx)("option",{children:"Art"}),Object(s.jsx)("option",{children:"Dance"}),Object(s.jsx)("option",{children:"Music"}),Object(s.jsx)("option",{children:"Cook"})]}),Object(s.jsxs)("label",{children:[" Event Link",Object(s.jsx)("input",{name:"eventLink",type:"text",required:!0,value:d,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:[" About Host",Object(s.jsx)("textarea",{name:"aboutHost",type:"text",required:!0,value:c,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:[" Description",Object(s.jsx)("textarea",{name:"description",type:"text",required:!0,value:a,onChange:this.handleInput})]}),Object(s.jsxs)("label",{children:["  What To Bring",Object(s.jsx)("textarea",{name:"whatToBring",type:"text",required:!0,value:h,onChange:this.handleInput})]}),Object(s.jsx)("div",{className:"uploader-container flex",children:Object(s.jsx)(fe,{onFinishUpload:this.onFinishUpload})}),Object(s.jsx)(we.a,{variant:"contained",color:"primary",size:"small",onClick:this.onSaveEventi,startIcon:Object(s.jsx)(jt.a,{}),children:"Save"})]}),Object(s.jsxs)("div",{className:"cyclesBox",children:[" ",Object(s.jsx)("h2",{children:"Cycles"}),Object(s.jsxs)("form",{className:"flex align-center",onSubmit:this.onSaveCycle,children:[Object(s.jsx)("input",{name:"capacity",required:!0,type:"number",value:v,onChange:this.handleInputCycle,placeholder:"capacity"}),Object(s.jsx)("input",{name:"startsAt",required:!0,type:"datetime-local",value:m,onChange:this.handleInputCycle,placeholder:"title"}),Object(s.jsx)(we.a,{onClick:this.onSaveCycle,variant:"contained",color:"primary",size:"small",startIcon:Object(s.jsx)(jt.a,{}),children:"add/update"})]}),n&&Object(s.jsx)(ut,{cycles:n,onRemoveCycle:this.onRemoveCycle,onEditCycle:this.onEditCycle})]})]})]}):Object(s.jsx)("h1",{children:"no cycle.. "}):Object(s.jsx)("h1",{children:"loading.. "})}}]),n}(a.Component),vt={editEventi:P,addEventi:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.add(e);case 3:s=t.sent,n({type:"ADD_EVENTI",eventi:s}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),alert("OOPs, try again"),console.log("ERR:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeEventi:function(e){return function(){var t=Object(b.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.remove(e);case 3:n({type:"REMOVE_EVENTI",eventiId:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),alert("OOPs, try again"),console.log("ERR:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}},mt=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedinUser:e.userModule.loggedinUser}}),vt)(bt),xt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={eventi:{},review:{txt:"",rate:""}},e.loadEventi=Object(b.a)(p.a.mark((function t(){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e.props.match.params),!(n=e.props.match.params.eventiId)){t.next=7;break}return t.next=5,F.getById(n);case 5:s=t.sent,e.setState({eventi:s});case 7:case"end":return t.stop()}}),t)}))),e.handleInput=function(t){var n=t.target,s=n.name,a=n.type,r="checkbox"===a?t.target.checked:"number"===a?+t.target.value:t.target.value;e.setState((function(e){return{review:Object(je.a)(Object(je.a)({},e.review),{},Object(V.a)({},s,r))}}))},e.onSaveEventi=function(){var t=Object(b.a)(p.a.mark((function t(n){var s,a,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s=e.state.eventi,a=e.props.loggedinUser,n.preventDefault(),(r=e.state.eventi).reviews&&r.reviews.length||(r.reviews=[]),(c=e.state.review).id=ce.makeId(),c.createdAt=Date.now(),c.byUser=a,r.reviews.push(c),t.next=13,e.setState((function(e){return{eventi:Object(je.a)(Object(je.a)({},e.eventi),{},{reviews:r.reviews}),review:{}}}));case 13:return t.next=15,e.props.editEventi(s);case 15:e.setState({eventi:{},review:{}}),e.props.history.goBack();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.loadEventi()}},{key:"render",value:function(){return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("div",{className:"ReviewEdit"}),Object(s.jsx)("b",{className:"fs30 flex justify-center",children:"Tell us about your expirence"}),Object(s.jsx)("div",{className:"edit-box",children:Object(s.jsxs)("form",{className:"form",action:"",onSubmit:this.onSaveEventi,children:[Object(s.jsxs)("div",{className:"flex column align-center",children:["                    ",Object(s.jsxs)("fieldset",{className:"rating",children:[Object(s.jsx)("input",{id:"demo-1",type:"radio",name:"rate",onChange:this.handleInput,value:"1"}),Object(s.jsx)("label",{htmlFor:"demo-1",children:"1 star"}),Object(s.jsx)("input",{id:"demo-2",type:"radio",name:"rate",onChange:this.handleInput,value:"2"}),Object(s.jsx)("label",{htmlFor:"demo-2",children:"2 stars"}),Object(s.jsx)("input",{id:"demo-3",type:"radio",name:"rate",onChange:this.handleInput,value:"3"}),Object(s.jsx)("label",{htmlFor:"demo-3",children:"3 stars"}),Object(s.jsx)("input",{id:"demo-4",type:"radio",name:"rate",onChange:this.handleInput,value:"4"}),Object(s.jsx)("label",{htmlFor:"demo-4",children:"4 stars"}),Object(s.jsx)("input",{id:"demo-5",type:"radio",name:"rate",onChange:this.handleInput,value:"5"}),Object(s.jsx)("label",{htmlFor:"demo-5",children:"5 stars"}),Object(s.jsxs)("div",{className:"stars",children:[Object(s.jsx)("label",{htmlFor:"demo-1","aria-label":"1 star",title:"1 star"}),Object(s.jsx)("label",{htmlFor:"demo-2","aria-label":"2 stars",title:"2 stars"}),Object(s.jsx)("label",{htmlFor:"demo-3","aria-label":"3 stars",title:"3 stars"}),Object(s.jsx)("label",{htmlFor:"demo-4","aria-label":"4 stars",title:"4 stars"}),Object(s.jsx)("label",{htmlFor:"demo-5","aria-label":"5 stars",title:"5 stars"})]})]}),Object(s.jsxs)("label",{children:[" Your Review",Object(s.jsx)("textarea",{name:"txt",type:"text",required:!0,onChange:this.handleInput})]})]}),Object(s.jsx)(we.a,{variant:"contained",color:"primary",size:"small",onClick:this.onSaveEventi,startIcon:Object(s.jsx)(jt.a,{}),children:"Save"})]})})]})}}]),n}(a.Component),ft={editEventi:P},Ot=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedinUser:e.userModule.loggedinUser}}),ft)(xt),gt=n(152),yt=n.n(gt),wt=n(151),Nt=n.n(wt),kt=n(153),Ct=n.n(kt);function Ut(){return Object(s.jsx)("footer",{className:"main-footer flex justify-center ",children:Object(s.jsxs)("nav",{children:[Object(s.jsx)("h1",{className:"logo",children:"Connect"}),Object(s.jsx)("div",{className:"footer-logo "}),Object(s.jsx)("small",{children:"All Rights Reserved \xa9 2021"}),Object(s.jsxs)("ul",{className:"footer-list clean-list",children:[Object(s.jsx)("li",{children:Object(s.jsx)(Nt.a,{})}),Object(s.jsx)("li",{children:Object(s.jsx)(yt.a,{})}),Object(s.jsx)("li",{children:Object(s.jsx)(Ct.a,{})})]})]})})}n(313);var St=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={eventi:null},e.loadEventi=Object(b.a)(p.a.mark((function t(){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.eventiId,t.next=3,F.getById(n);case 3:s=t.sent,e.setState({eventi:s});case 5:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.loadEventi()}},{key:"render",value:function(){var e=this.state.eventi;return e?Object(s.jsxs)("div",{className:"more-dates flex justify-center",children:[Object(s.jsxs)("div",{children:["Filter Cycles",Object(s.jsx)("form",{className:"flex column",children:Object(s.jsx)("input",{})})]}),Object(s.jsx)(Qe,{cycles:e.cycles,eventi:e})]}):Object(s.jsx)("h1",{children:" not found"})}}]),n}(a.Component),Et=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.reviews;return Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:e.map((function(e,t){return Object(s.jsxs)("li",{children:[Object(s.jsxs)("div",{className:"flex align-center fs12",children:[" ",Object(s.jsx)(x.a,{className:"avatar-big",src:e.byUser.imgUrl}),Object(s.jsx)(se.a,{className:"star",fontSize:"small"})," ",Object(s.jsx)("b",{children:e.rate}),"  ",e.byUser.fullname,"   "]}),Object(s.jsx)("div",{className:"flex",children:e.txt})," "]},e.id)}))})})}}]),n}(a.Component),It=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={eventi:null},e.loadEventi=Object(b.a)(p.a.mark((function t(){var n,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.eventiId,t.next=3,F.getById(n);case 3:s=t.sent,e.setState({eventi:s});case 5:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.loadEventi()}},{key:"render",value:function(){if(!this.state.eventi)return Object(s.jsx)("h1",{children:"loading"});var e=this.state.eventi,t=e.reviews,n=e.title;return Object(s.jsxs)("div",{className:"all-reviews",children:[Object(s.jsxs)("h1",{children:[n," - Reviews"]}),Object(s.jsx)(Et,{reviews:t}),"            "]})}}]),n}(a.Component),Mt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.loadEventis(),console.log("Got from store:",this.props)}},{key:"render",value:function(){return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)(J,{eventies:this.props.eventies}),Object(s.jsxs)("div",{className:"main-container",children:[Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{component:mt,path:"/eventi/edit/:eventiId?"}),Object(s.jsx)(j.a,{component:St,path:"/cycles/:eventiId"}),Object(s.jsx)(j.a,{component:ot,path:"/eventi/:eventiId"}),Object(s.jsx)(j.a,{component:Ot,path:"/review/:eventiId"}),Object(s.jsx)(j.a,{component:It,path:"/allreviews/:eventiId"}),Object(s.jsx)(j.a,{component:Re,path:"/user"}),Object(s.jsx)(j.a,{component:le,path:"/list"}),Object(s.jsx)(j.a,{component:$e,path:"/eventi"}),Object(s.jsx)(j.a,{component:ye,path:"/signup"}),Object(s.jsx)(j.a,{component:ve,path:"/login"}),Object(s.jsx)(j.a,{component:de,path:"/"})]}),Object(s.jsx)(Ut,{})," "]})]})}}]),n}(a.Component),_t={loadEventis:z},Tt=Object(m.b)((function(e){return{eventies:e.eventiModule.eventies,loggedInUser:e.userModule.loggedinUser}}),_t)(Mt),At=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,343)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))},Dt=n(154),Ft=n(47),Bt=[],Rt=null;sessionStorage.loggedinUser&&(Rt=JSON.parse(sessionStorage.loggedinUser));var zt={eventies:Bt,filterBy:{title:"",tags:"",dates:"",minPrice:0,maxPrice:1/0},loggedinUser:Rt};var Pt={loggedinUser:S.getLoggedinUser()||null};var Lt=Object(Ft.c)({eventiModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EVENTIES":return Object(je.a)(Object(je.a)({},e),{},{eventies:t.eventies});case"EDIT_EVENTI":var n=e.eventies.map((function(e){return e._id===t.eventi._id?t.eventi:e}));return console.log(n),Object(je.a)(Object(je.a)({},e),{},{eventies:n});case"ADD_EVENTI":return console.log("aciton eventi",t.eventi),e=Object(je.a)(Object(je.a)({},e),{},{eventies:[].concat(Object(Xe.a)(e.eventies),[t.eventi])});case"FILTER":var s=new RegExp(t.filterBy.text,"i");return e="All"===t.filterBy.type&&""===t.filterBy.text?Object(je.a)(Object(je.a)({},e),{},{eventies:Bt,filterBy:t.filterBy}):Object(je.a)(Object(je.a)({},e),{},{eventies:Bt.filter((function(e){return s.test(e.name)&&e.inStock===t.filterBy.type&&e.type===t.filterBy.type})),filterBy:t.filterBy});case"REMOVE_EVENTI":return e=Object(je.a)(Object(je.a)({},e),{},{eventies:e.eventies.filter((function(e){return e._id!==t.eventiId}))});default:return e}},userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return e=Object(je.a)(Object(je.a)({},e),{},{loggedinUser:t.user});default:return e}}}),Ht=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ft.d,qt=Object(Ft.e)(Lt,Ht(Object(Ft.a)(Dt.a)));i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(v.a,{children:Object(s.jsx)(m.a,{store:qt,children:Object(s.jsx)(Tt,{})})})}),document.getElementById("root")),At()}},[[314,1,2]]]);
//# sourceMappingURL=main.7225a8c1.chunk.js.map